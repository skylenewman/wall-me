!function(t){var n=window.location.href;if(t){var o=t.pushState;t.pushState=function(n,e,i){return"function"==typeof t.onpushstate&&t.onpushstate({state:n}),window.socket.send({uri:n.uri||n.url,action:"call_route",method:"get"},function(t){var n=t.body[0];n.match(/<title>/)&&(document.title=n.split(/<title>/)[1].split("</title>")[0]),n.match(/<body [^>]*>/)?document.body.innerHTML=n.split(/<body [^>]*>/)[1].split("</body>")[0]:document.body.innerHTML=n,pw.component.findAndInit(document.querySelectorAll("body")[0])}),o.apply(t,arguments)},window.onpopstate=function(o){var e=o.state;e.uri||(e.uri=n),t.pushState(e,e.uri,e.uri)}}}(window.history);
